########################################################################################
################################# System Controls #######################################

## Rofi Dmenu exec entries
bindsym $mod+Shift+Ctrl+w exec fish ~/.local/bin/rswiki.fish
bindsym $mod+Shift+Ctrl+y exec fish ~/.local/bin/ytmp3.fish
bindsym $mod+Shift+Ctrl+n exec fish ~/.local/bin/nyaa.fish
bindsym $mod+Shift+Ctrl+a exec fish ~/.local/bin/anilist.fish
bindsym $mod+Shift+Ctrl+m exec fish ~/.local/bin/myanimelist.fish
bindsym $mod+Shift+Ctrl+l exec fish ~/.local/bin/letterboxd.fish

## KP_LAYER Keyd
bindsym Alt+Shift+Ctrl+f exec $browser
bindsym Alt+Shift+Ctrl+r exec flatpak run com.adamcake.Bolt
bindsym Alt+Shift+Ctrl+s exec $edit-sway-config
bindsym Alt+Shift+Ctrl+c exec xdg-open "https://chatgpt.com"
bindsym Alt+Shift+Ctrl+m exec swaymsg output HDMI-A-1 toggle

## Reload/Restart Sway
bindsym $mod+Shift+c reload

# Reload With Main Output Disabled.
bindsym $mod+Ctrl+c reload ; exec swaymsg output "eDP-1" disable && exec notify-send -t 3000 "‚öôÔ∏è‚ü≥ Reloading Config"
bindsym $mod+Shift+r restart

## Exit Sway
bindsym $mod+Shift+e exec "swaymsg exit"

## Volume Control
bindsym XF86AudioRaiseVolume exec pactl set-sink-volume @DEFAULT_SINK@ +5% 
bindsym XF86AudioLowerVolume exec pactl set-sink-volume @DEFAULT_SINK@ -5% 
bindsym XF86AudioMute exec pactl set-sink-mute @DEFAULT_SINK@ toggle 
bindsym XF86AudioMicMute exec pactl set-source-mute @DEFAULT_SOURCE@ toggle 
bindsym $mod+equal exec playerctl next
bindsym $mod+minus exec playerctl previous

## Brightness Control
bindsym XF86MonBrightnessUp exec brightnessctl set 10%+
bindsym XF86MonBrightnessDown exec brightnessctl set 10%-
########################################################################################
########################################################################################


########################################################################################
################################# Manage Outputs #################################
# External output on, Main output off
bindsym $mod+Ctrl+m output "eDP-1" disable ; output "HDMI-A-1" enable ; output "HDMI-A-1" scale 1 
# Main output on, External output off
bindsym $mod+Shift+m output "eDP-1" enable ; output "HDMI-A-1" enable ; output "HDMI-A-1" scale 1 
########################################################################################
########################################################################################
 


########################################################################################
################################# Window Management ############################
## Kill Focused Window
bindsym $mod+q kill

## Focus Window by Direction
# Arrow keyd
bindsym $mod+a focus left
bindsym $mod+w focus up 
bindsym $mod+d focus right 
bindsym $mod+s focus down
# Vim motions
bindsym $mod+h focus left
bindsym $mod+k focus up 
bindsym $mod+l focus right 
bindsym $mod+j focus down

## Toggle Fullscreen Current Window
bindsym $mod+Shift+f fullscreen toggle

## Toggle Between Floating and Tilling
bindsym $mod+Ctrl+f floating toggle

## Picture in Picture
#bindsym $mod+Ctrl+p sticky enable, floating enable, resize set width 400px height 225px, move position 1500 10
bindsym $mod+Ctrl+r sticky enable, floating enable, resize set width 400px height 225px, move position 1600 80
bindsym $mod+Ctrl+i sticky enable, floating enable, resize set width 400px height 225px, move position 300 10

# External output
workspace 1 output HDMI-A-1 
workspace 2 output HDMI-A-1 
workspace 3 output HDMI-A-1 
workspace 4 output HDMI-A-1 
workspace 5 output HDMI-A-1 
workspace 6 output HDMI-A-1 
workspace 7 output HDMI-A-1
workspace 8 output HDMI-A-1
workspace 9 output HDMI-A-1
workspace 0 output HDMI-A-1

## Focus: If want alternative display hotkeys
#bindsym $mod2+1 workspace 21
#bindsym $mod2+2 workspace 22
#bindsym $mod2+3 workspace 23
#bindsym $mod2+4 workspace 24
#bindsym $mod2+5 workspace 25
#bindsym $mod2+6 workspace 26
#bindsym $mod2+7 workspace 27
#bindsym $mod2+8 workspace 28
#bindsym $mod2+9 workspace 29
#bindsym $mod2+0 workspace 20

## Focus: HDMI-A-1 output
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 0

## Move + focus: Alternative Output
#bindsym $mod2+Shift+1 move container to workspace 21 ; workspace 21
#bindsym $mod2+Shift+2 move container to workspace 22 ; workspace 22
#bindsym $mod2+Shift+3 move container to workspace 23 ; workspace 23
#bindsym $mod2+Shift+4 move container to workspace 24 ; workspace 24
#bindsym $mod2+Shift+5 move container to workspace 25 ; workspace 25
#bindsym $mod2+Shift+6 move container to workspace 26 ; workspace 26
#bindsym $mod2+Shift+7 move container to workspace 27 ; workspace 27
#bindsym $mod2+Shift+8 move container to workspace 28 ; workspace 28
#bindsym $mod2+Shift+9 move container to workspace 29 ; workspace 29
#bindsym $mod2+Shift+0 move container to workspace 20 ; workspace 20

## Move + focus: HDMI-A-1
bindsym $mod+Shift+1 move container to workspace 1 ; workspace 1
bindsym $mod+Shift+2 move container to workspace 2 ; workspace 2
bindsym $mod+Shift+3 move container to workspace 3 ; workspace 3
bindsym $mod+Shift+4 move container to workspace 4 ; workspace 4
bindsym $mod+Shift+5 move container to workspace 5 ; workspace 5
bindsym $mod+Shift+6 move container to workspace 6 ; workspace 6
bindsym $mod+Shift+7 move container to workspace 7 ; workspace 7
bindsym $mod+Shift+8 move container to workspace 8 ; workspace 8
bindsym $mod+Shift+9 move container to workspace 9 ; workspace 9
bindsym $mod+Shift+0 move container to workspace 0 ; workspace 0

## Silently move workspaces: Alternative Output
#bindsym $mod2+Ctrl+1 move container to workspace 21
#bindsym $mod2+Ctrl+2 move container to workspace 22
#bindsym $mod2+Ctrl+3 move container to workspace 23
#bindsym $mod2+Ctrl+4 move container to workspace 24
#bindsym $mod2+Ctrl+5 move container to workspace 25
#bindsym $mod2+Ctrl+6 move container to workspace 26
#bindsym $mod2+Ctrl+7 move container to workspace 27
#bindsym $mod2+Ctrl+8 move container to workspace 28
#bindsym $mod2+Ctrl+9 move container to workspace 29
#bindsym $mod2+Ctrl+0 move container to workspace 20

## Silently move workspaces: HDMI-A-1
bindsym $mod+Ctrl+1 move container to workspace 1
bindsym $mod+Ctrl+2 move container to workspace 2
bindsym $mod+Ctrl+3 move container to workspace 3
bindsym $mod+Ctrl+4 move container to workspace 4
bindsym $mod+Ctrl+5 move container to workspace 5
bindsym $mod+Ctrl+6 move container to workspace 
bindsym $mod+Ctrl+7 move container to workspace 7
bindsym $mod+Ctrl+8 move container to workspace 8
bindsym $mod+Ctrl+9 move container to workspace 9
bindsym $mod+Ctrl+0 move container to workspace 0

## Move Focused Window Arrow Keys while maintaining focus
bindsym $mod+Shift+left mark swap, focus left, swap container with mark swap, exec "~/.config/sway/scripts/sway_alt_tab" 
bindsym $mod+Shift+down mark swap, focus down, swap container with mark swap, exec "~/.config/sway/scripts/sway_alt_tab"
bindsym $mod+Shift+up mark swap, focus down, swap container with mark swap, exec "~/.config/sway/scripts/sway_alt_tab"
bindsym $mod+Shift+right mark swap, focus right, swap container with mark swap, exec "~/.config/sway/scripts/sway_alt_tab"

## Move Focused Window wsad while maintaining focus
# Arrow keys
bindsym $mod+Shift+a mark swap, focus left, swap container with mark swap, exec "~/.config/sway/scripts/sway_alt_tab" 
bindsym $mod+Shift+s mark swap, focus up, swap container with mark swap, exec "~/.config/sway/scripts/sway_alt_tab"
bindsym $mod+Shift+w mark swap, focus down, swap container with mark swap, exec "~/.config/sway/scripts/sway_alt_tab"
bindsym $mod+Shift+d mark swap, focus right, swap container with mark swap, exec "~/.config/sway/scripts/sway_alt_tab"

# Vim motions
bindsym $mod+Shift+h mark swap, focus left, swap container with mark swap, exec "~/.config/sway/scripts/sway_alt_tab" 
bindsym $mod+Shift+k mark swap, focus up, swap container with mark swap, exec "~/.config/sway/scripts/sway_alt_tab"
bindsym $mod+Shift+j mark swap, focus down, swap container with mark swap, exec "~/.config/sway/scripts/sway_alt_tab"
bindsym $mod+Shift+l mark swap, focus right, swap container with mark swap, exec "~/.config/sway/scripts/sway_alt_tab"

## invert layout
bindsym $mod+Ctrl+a move left, move left, move left
bindsym $mod+Ctrl+d move right, move right, move right
bindsym $mod+left move left
bindsym $mod+right move right
bindsym $mod+up move up
bindsym $mod+down move down

## Resize Mode
bindsym $mod+r mode "resize"
mode "resize" {
        bindsym l resize shrink width 10 px or 10 ppt
        bindsym k resize grow height 10 px or 10 ppt
        bindsym j resize shrink height 10 px or 10 ppt
        bindsym h resize grow width 10 px or 10 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

       # back to normal: Enter or Escape or $mod+r
        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+r mode "default"
}

## Keyboard-Mouse Control
bindsym $mod+z exec "wl-kbptr -o modes=tile,split"
bindsym $mod+Shift+z mode Mouse
bindsym $mod+c mode Mouse

bindsym Alt+h seat seat0 cursor move -60 0
bindsym Alt+j seat seat0 cursor move 0 60 
bindsym Alt+k seat seat0 cursor move 0 -60
bindsym Alt+l seat seat0 cursor move 60 0 

bindsym Alt+Shift+h seat seat0 cursor move -350 0
bindsym Alt+Shift+j seat seat0 cursor move 0 350 
bindsym Alt+Shift+k seat seat0 cursor move 0 -350
bindsym Alt+Shift+l seat seat0 cursor move 350 0 

bindsym Alt+Ctrl+h seat seat0 cursor move -15 0
bindsym Alt+Ctrl+j seat seat0 cursor move 0 15 
bindsym Alt+Ctrl+k seat seat0 cursor move 0 -15
bindsym Alt+Ctrl+l seat seat0 cursor move 15 0 

mode Mouse {
    #bindsym a mode default, exec 'wl-kbptr-sway-active-win; swaymsg mode Mouse'
    bindsym Shift+a mode default, exec 'wl-kbptr; swaymsg mode Mouse'

    # Mouse move
    bindsym Ctrl+h seat seat0 cursor move -15 0
    bindsym Ctrl+j seat seat0 cursor move 0 15
    bindsym Ctrl+k seat seat0 cursor move 0 -15
    bindsym Ctrl+l seat seat0 cursor move 15 0
    
    bindsym h seat seat0 cursor move -60 0
    bindsym j seat seat0 cursor move 0 60
    bindsym k seat seat0 cursor move 0 -60
    bindsym l seat seat0 cursor move 60 0

    bindsym Shift+h seat seat0 cursor move -400 0
    bindsym Shift+j seat seat0 cursor move 0 400 
    bindsym Shift+k seat seat0 cursor move 0 -400
    bindsym Shift+l seat seat0 cursor move 400 0

    bindsym 1 seat seat0 cursor press button1
    bindsym --release 2 seat seat0 cursor release button1

    bindsym a seat seat0 cursor press button1
    bindsym --release a seat seat0 cursor release button1

    # Middle button
    bindsym s seat seat0 cursor press button2
    bindsym --release s seat seat0 cursor release button2

    # Right button
    bindsym d seat seat0 cursor press button3
    bindsym --release d seat seat0 cursor release button3

    bindsym Escape mode default
}
#bindsym f8 exec "wlrctl pointer scroll 30"
#bindsym f9 exec "wlrctl pointer scroll -30"

## Music Downloader
#bindsym $mod+m exec ~/.config/fuzzel/musisdown.sh

## Alt Tab but $mod+Tab for workspaces
bindsym $mod+Tab workspace back_and_forth

## Alt Tab for Windows
bindsym $mod+i exec ~/.config/sway/scripts/window-changer/sway_alt_tab 

## Disabled:
# Scratchpad:
    # Sway has a "scratchpad", which is a bag of holding for windows.
    # You can send windows there and get them back later.

    # Move the currently focused window to the scratchpad
    #bindsym $mod+Shift+minus move scratchpad

    # Show the next scratchpad window or hide the focused scratchpad window.
    # If there are multiple scratchpad windows, this command cycles through them.
    #bindsym $mod+minus scratchpad show
# bindsym $mod+Shift+minus move scratchpad
# bindsym $mod+minus scratchpad show

# wl-miror hotkey
#bindsym $mod+m workspace 8 ; workspace 9
#bindsym $mod+m workspace $ws8 ; exec wl-mirror -s e eDP-1 ; workspace $ws9 
########################################################################################
########################################################################################



########################################################################################
################################# Launcher Hotkeys #####################################
## Menu Launcher
bindsym $mod+x exec --no-startup-id fuzzel
bindsym $mod+g exec --no-startup-id fuzzel
# bindsym $mod+c exec --no-startup-id fuzzel 

## Clipboard Manager hotkey
### To use cliphist 
# bindsym $mod+u exec rofi -modi clipboard:~/.config/rofi/cliphist-rofi-img -show clipboard -show-icons -theme rounded-gray-dark
#bindsym $mod+u exec cliphist list | rofi -dmenu -show-icons -theme rounded-gray-dark | cliphist decode | wl-copy
#bindsym $mod+u exec /home/rodhfr/.config/rofi/get_clipboard.sh

bindsym $mod+u exec fish -c "cliphist list | rofi -dmenu -show-icons -theme rounded-gray-dark | cliphist decode | wl-copy"

## Send Clipboard to Pushbullet Using their API.
#bindsym mod1+p exec bash -c "~/.config/sway/clipboard/pushbullet/sendclipboard"

## Terminal
bindsym $mod+Return exec $tty 
bindsym $mod+Shift+Return exec $alttty
bindsym $mod+Ctrl+Return exec $alttty2

## Browser
bindsym $mod+f exec $browser 

## Audio Management
bindsym $mod+v exec $audiogui 

## File Explorer
bindsym $mod+e workspace --no-auto-back-and-forth 7 ; exec nautilus
bindsym $mod+Ctrl+e workspace --no-auto-back-and-forth 7 ; exec nautilus --new-window

## Notification Menu
bindsym $mod+n exec swaync-client -t

## Bluetooth Manager
bindsym $mod+b exec flatpak run io.github.ebonjaeger.bluejay

## Screenshot
bindsym $mod+Shift+p exec sh -c 'IMGPATH="$HOME/Pictures/screenshot_$(date +%Y%m%d%H%M%S).png" && grim -g "$(slurp)" "$IMGPATH" && notify-send -t 4000 "üì∑ Saved to $IMGPATH" && kdeconnect-cli -d "$(kdeconnect-cli -a --id-only | head -n 1)" --share "$IMGPATH"'
bindsym $mod+p exec grim -g "$(slurp)" - | wl-copy && notify-send -t 4000 "üì∑ ÔÉÖ  Copied to Clipboard" 
bindsym $mod+Ctrl+p exec notify-send -t 4000 "üé® Select Hex Colour" && grim -g "$(slurp -p)" -t ppm - | convert - -format '%[pixel:p{0,0}]' txt:- | tail -n 1 | cut -d ' ' -f 4 | wl-copy && notify-send -t 4000 "üé® Grepped to Clipboard"

## Quick Change Sway Config
bindsym $mod+Shift+y exec $edit-sway-config

## System Resources
bindsym $mod+t exec $tty -e $systemresources 


## Disabled:
# Quick Notes
# bindsym $mod+y exec $tty -e $texteditor -n ~/.note-swap.md

## Floating Terminal while in Tilling Mode
# bindsym $mod+t exec $tty --class floatingterm

## Mpv Open Clipboard Link
# bindsym $mod+m exec ~/.config/sway/scripts/paste_mpv
# bindsym f12 exec mpv --fullscreen --player-operation-mode=pseudo-gui -- %U
# bindsym f11 exec pkill mpv

########################################################################################
########################################################################################
